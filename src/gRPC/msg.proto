syntax = "proto3";

option go_package = "../myMsg";
package myMsg;



message Block{
  BlockType type = 1;
  LocationInfo index = 2;
  repeated Obj list = 3;
}

enum BlockType{
  Null = 0;
  Ground = 1;
}

message Obj{
  string objType = 1;
  string objId = 2;
  LocationInfo index = 3;
}

message Msg{
  MsgAuthentication Authentication = 1;
  MsgScene scene = 2;
}

enum Cmd{
  Pong = 0;
  Authentication = 1;
  Move = 2;
}

message MsgFromClient{
  Cmd cmd = 1;
  MsgAuthentication Authentication = 2;
  MsgMove move = 3;
}

message MsgMove{
  float x = 1;
  float y = 2;
}

message MsgFromService{
  MsgScene scene = 1;
}

message MsgAuthentication{
  string username = 1;
  string addr = 2;
  string roomId = 3;
  string Token = 4;
}

message MsgScene{
  repeated Block blocks = 1;
  repeated CharInfo chars = 2;
}

message CharInfo{
  string username = 1;
  LocationInfo index = 2;
  bool isUser = 3;
}

message LocationInfo{
  float x = 1;
  float y = 2;
}
